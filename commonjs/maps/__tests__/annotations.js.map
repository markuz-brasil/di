{"version":3,"sources":["__tests__/annotations.js"],"names":[],"mappings":"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","file":"__tests__/annotations.js","sourcesContent":["jest.autoMockOff()\nimport '6to5/polyfill'\n\nimport {\n  annotate,\n  hasAnnotation,\n  readAnnotations,\n  Inject,\n  InjectLazy,\n  InjectPromise,\n  Provide,\n  ProvidePromise\n} from '../index'\n\ndescribe('hasAnnotation', function() {\n\n  it('should return false if fn not annotated', function() {\n\n    function foo() {}\n    class Bar {}\n    class SomeAnnotation {}\n\n    expect(hasAnnotation(foo, SomeAnnotation)).toBe(false)\n    expect(hasAnnotation(Bar, SomeAnnotation)).toBe(false)\n  })\n\n\n  it('should return true if the fn has an instance of given annotation', function() {\n\n    class SomeAnnotation {}\n\n    annotate(foo, new SomeAnnotation())\n    function foo() {}\n\n    expect(hasAnnotation(foo, SomeAnnotation)).toBe(true)\n  })\n\n\n  it('should return false if fn does not have given annotation', function() {\n\n    class YepAnnotation {}\n    class NopeAnnotation {}\n\n    annotate(foo, new YepAnnotation())\n    function foo() {}\n\n    expect(hasAnnotation(foo, NopeAnnotation)).toBe(false)\n  })\n})\n\ndescribe('readAnnotations', function() {\n\n  it('should read @Provide', function() {\n    class Bar {}\n\n    class Foo {}\n    annotate(Foo, new Provide(Bar))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.provide.token).toBe(Bar)\n    expect(annotations.provide.isPromise).toBe(false)\n  })\n\n  it('should read @ProvidePromise', function() {\n    class Bar {}\n\n    class Foo {}\n    annotate(Foo, new ProvidePromise(Bar))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.provide.token).toBe(Bar)\n    expect(annotations.provide.isPromise).toBe(true)\n  })\n\n  it('should read @Inject', function() {\n    class One {}\n    class Two {}\n\n    class Foo {}\n    annotate(Foo, new Inject(One, Two))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.params[0].token).toBe(One)\n    expect(annotations.params[0].isPromise).toBe(false)\n    expect(annotations.params[0].isLazy).toBe(false)\n\n    expect(annotations.params[1].token).toBe(Two)\n    expect(annotations.params[1].isPromise).toBe(false)\n    expect(annotations.params[1].isLazy).toBe(false)\n  })\n\n  it('should read @InjectLazy', function() {\n    class One {}\n\n    class Foo {}\n    annotate(Foo, new InjectLazy(One))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.params[0].token).toBe(One)\n    expect(annotations.params[0].isPromise).toBe(false)\n    expect(annotations.params[0].isLazy).toBe(true)\n  })\n\n  it('should read @InjectPromise', function() {\n    class One {}\n\n    class Foo {}\n    annotate(Foo, new InjectPromise(One))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.params[0].token).toBe(One)\n    expect(annotations.params[0].isPromise).toBe(true)\n    expect(annotations.params[0].isLazy).toBe(false)\n  })\n\n  it('should read stacked @Inject{Lazy, Promise} annotations', function() {\n    class One {}\n    class Two {}\n    class Three {}\n\n    class Foo {}\n    annotate(Foo, new Inject(One))\n    annotate(Foo, new InjectLazy(Two))\n    annotate(Foo, new InjectPromise(Three))\n\n    var annotations = readAnnotations(Foo)\n\n    expect(annotations.params[0].token).toBe(One)\n    expect(annotations.params[0].isPromise).toBe(false)\n    expect(annotations.params[0].isLazy).toBe(false)\n\n    expect(annotations.params[1].token).toBe(Two)\n    expect(annotations.params[1].isPromise).toBe(false)\n    expect(annotations.params[1].isLazy).toBe(true)\n\n    expect(annotations.params[2].token).toBe(Three)\n    expect(annotations.params[2].isPromise).toBe(true)\n    expect(annotations.params[2].isLazy).toBe(false)\n  })\n})\n"],"sourceRoot":"/source/"}